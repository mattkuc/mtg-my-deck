<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <title>MTG Management App</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="{{ url_for('static', filename='autocomplete.js') }}"></script>
    <script src="https://kit.fontawesome.com/e8b358f9a3.js" crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename='glow_card.js') }}"></script>
</head>
<body>
    <div class="container">
        <div class="container-form">
            <div class="text">
                = Add card =
             </div>
            <form action="/", method="POST">
                <div class="form-row">
                    <div class="input-data">
                        <span id="combined-input">
                            <input type="text" id="card_name" name="selected_card_name" placeholder="Card Name" autofocus>
                            <div id="ghost-text"></div>
                        </span>
                    </div>
                    <div class="submit-btn">
                        <div class="input-data">
                           <div class="inner"></div>
                           <input type="submit" value="Submit">
                        </div>
                     </div>
                </div>
                
            </form>
        </div>
        <div class="cards">
            <div class="card_stats">
                <h3>Card Statistics</h3>
                <p>Total Cards: {{ total_cards }}</p>
                <p>Common: {{ rarity_counts['common'] }}</p>
                <p>Uncommon: {{ rarity_counts['uncommon'] }}</p>
                <p>Rare: {{ rarity_counts['rare'] }}</p>
                <p>Mythic: {{ rarity_counts['mythic'] }}</p>
                <br>
                <h3>Price</h3>
                <p>Cumulative USD Price: ${{ "{:.2f}".format(cumulative_price_usd or 0.00) }}</p>
                <p>Cumulative EUR Price: â‚¬{{ "{:.2f}".format(cumulative_price_eur or 0.00) }}</p>
            </div>
            <div class="card_gallery">
                {% for card_data in card_data_list|reverse %}
                <div class="card">
                    <img src="{{ url_for('static', filename=card_data.image_path) }}" alt="{{ card_data.name }}">
                    <div class="card-text">
                        <p>Name: {{ card_data.name }}</p>
                        <p>Rarity: {{ card_data.rarity }}</p>
                        <a href="{{ url_for('remove_card', card_id=card_data.id) }}" class="remove-card" title="Remove Card">
                            <i class="fa-solid fa-trash-can" style="color: white; float: right;"></i>
                        </a>
                    </div>
                </div>
            {% endfor %}
            </div>            
        </div>
    </div>
</body>
</html>
